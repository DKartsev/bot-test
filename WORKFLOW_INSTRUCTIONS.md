# –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –†–ê–ë–û–¢–ï - –í–°–ï–ì–î–ê –°–õ–ï–î–û–í–ê–¢–¨ –≠–¢–û–ú–£ –ü–†–û–¶–ï–°–°–£

## üö® –í–ê–ñ–ù–û: –ü–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç—ã –ù–ï–ò–ó–ú–ï–ù–ï–ù

### 1. –í–°–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø –¢–û–õ–¨–ö–û –õ–û–ö–ê–õ–¨–ù–û
- **–ù–ò–ö–û–ì–î–ê** –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ VM
- **–í–°–ï** –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–µ–ª–∞—Ç—å –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

### 2. –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –ß–ï–†–ï–ó GIT
```bash
# –ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ª–æ–∫–∞–ª—å–Ω–æ:
git add .
git commit -m "–æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
git push origin main

# –ó–∞—Ç–µ–º –Ω–∞ VM:
ssh -l dankartsev 158.160.169.147 "cd /home/dankartsev/bot-test && git pull origin main"
```

### 3. –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ù–ê VM
- –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ `git pull` –Ω–∞ VM
- –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å –±—ç–∫–µ–Ω–¥: `npm run build`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã: `docker-compose down && docker-compose up -d`

---

## üîß –¢–ï–ö–£–©–ò–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø

### –ü—Ä–æ–±–ª–µ–º–∞: Redis –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤ Docker
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ë—ç–∫–µ–Ω–¥ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Redis –ø–æ `127.0.0.1:6379`, –Ω–æ –≤ Docker –Ω—É–∂–Ω–æ `redis:6379`

**–†–µ—à–µ–Ω–∏–µ**: 
1. –í –ª–æ–∫–∞–ª—å–Ω–æ–º `.env` –∏–∑–º–µ–Ω–∏—Ç—å:
   ```
   REDIS_URL=redis://redis:6379
   REDIS_HOST=redis
   ```

2. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏ –∑–∞–ø—É—à–∏—Ç—å
3. –ù–∞ VM: `git pull origin main`
4. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

### –ü—Ä–æ–±–ª–µ–º–∞: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è `/api/auth/*`
**–û–ø–∏—Å–∞–Ω–∏–µ**: –≠–Ω–¥–ø–æ–∏–Ω—Ç `POST /api/auth/create-test-operator` —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω

**–†–µ—à–µ–Ω–∏–µ**: 
1. –í `middleware/auth.ts` –¥–æ–±–∞–≤–ª–µ–Ω –ø—Ä–æ–ø—É—Å–∫ –¥–ª—è `/api/auth/*` –º–∞—Ä—à—Ä—É—Ç–æ–≤
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ø–∞–ª–∏ –Ω–∞ VM
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç –±–µ–∑ —Ç–æ–∫–µ–Ω–∞

---

## üìã –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –ö–û–ú–ú–ò–¢–û–ú

- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –í—Å–µ —Ñ–∞–π–ª—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ git: `git add .`
- [ ] –ö–æ–º–º–∏—Ç —Å –ø–æ–Ω—è—Ç–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º: `git commit -m "–æ–ø–∏—Å–∞–Ω–∏–µ"`
- [ ] –ü—É—à –≤ git: `git push origin main`
- [ ] –ù–∞ VM: `git pull origin main`
- [ ] –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –±—ç–∫–µ–Ω–¥–∞: `npm run build`
- [ ] –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤: `docker-compose down && docker-compose up -d`
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ VM

---

## üê≥ DOCKER –ö–û–ú–ê–ù–î–´

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker stop $(docker ps -q)

# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker rm $(docker ps -aq)

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
docker-compose down
docker-compose up -d

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker logs bot-test_bot-backend_1
docker logs bot-test_bot-admin_1
```

---

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```bash
docker ps
docker ps -a  # –≤–∫–ª—é—á–∞—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
```bash
docker logs <container_name> --tail 20
docker logs <container_name> -f  # –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏
```bash
docker network ls
docker network inspect bot-test_bot-network
```

---

## üìù –ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´

### –ù–∞ VM
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å git
git status
git log --oneline -5

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –±—ç–∫–µ–Ω–¥
cd packages/backend
npm run build

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health endpoint
curl http://localhost:3000/health
```

### –õ–æ–∫–∞–ª—å–Ω–æ
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
git status
git log --oneline -5

# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
git pull origin main
git push origin main
```

---

## ‚ö†Ô∏è –ß–ê–°–¢–´–ï –û–®–ò–ë–ö–ò

1. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –Ω–∞ VM** - –ù–ï –î–ï–õ–ê–¢–¨!
2. **–ó–∞–±—ã—Ç—å git push** - –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å
3. **–ó–∞–±—ã—Ç—å git pull –Ω–∞ VM** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –ø–æ—è–≤—è—Ç—Å—è
4. **–ù–µ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –±—ç–∫–µ–Ω–¥** - —Å—Ç–∞—Ä—ã–π –∫–æ–¥ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
5. **–ù–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã** - —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –æ—Å—Ç–∞–Ω—É—Ç—Å—è

---

## üéØ –¶–ï–õ–¨

–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é:
- –°–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –±–µ–∑ —Ç–æ–∫–µ–Ω–∞
- –õ–æ–≥–∏–Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º JWT
- –î–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â–µ–Ω–Ω—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º —Å —Ç–æ–∫–µ–Ω–æ–º
- –ó–∞–≥—Ä—É–∑–∫–∏ —á–∞—Ç–æ–≤ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

**–í–°–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø –¢–û–õ–¨–ö–û –õ–û–ö–ê–õ–¨–ù–û ‚Üí GIT ‚Üí VM ‚Üí –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï**
