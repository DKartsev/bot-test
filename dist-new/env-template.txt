# ========================================
# КОНФИГУРАЦИЯ ДЛЯ VM ЯНДЕКС.ОБЛАКО
# ========================================

# Основные настройки приложения
NODE_ENV=production
PORT=3000
ADMIN_PORT=3001

# База данных PostgreSQL
DATABASE_URL=postgresql://bot_user:your_secure_password@localhost:5432/bot_support
DB_HOST=localhost
DB_PORT=5432
DB_NAME=bot_support
DB_USER=bot_user
DB_PASSWORD=your_secure_password

# Redis
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Supabase (если используется)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# OpenAI
OPENAI_API_KEY=your-openai-api-key

# Telegram Bot
TELEGRAM_BOT_TOKEN=your-bot-token
TELEGRAM_WEBHOOK_URL=https://84.201.146.125/bot/webhook

# JWT
JWT_SECRET=your-super-secret-jwt-key-here-make-it-long-and-random
JWT_EXPIRES_IN=7d

# CORS
CORS_ORIGIN=*
ALLOWED_ORIGINS=*,http://localhost:3001,http://84.201.146.125

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Logging
LOG_LEVEL=info
LOG_FILE=./logs/app.log

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# Security
HELMET_ENABLED=true
RATE_LIMIT_ENABLED=true
CORS_ENABLED=true

# File Upload
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads

# Backup
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# ========================================
# НАСТРОЙКИ NGINX (если используется)
# ========================================

NGINX_ENABLED=true
NGINX_SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
NGINX_SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# ========================================
# НАСТРОЙКИ PM2
# ========================================

PM2_INSTANCES=1
PM2_MAX_MEMORY_RESTART=1G
PM2_RESTART_DELAY=4000
PM2_MAX_RESTARTS=10

# ========================================
# НАСТРОЙКИ DOCKER (если используется)
# ========================================

DOCKER_ENABLED=false
DOCKER_NETWORK=bot-network

# ========================================
# ДОПОЛНИТЕЛЬНЫЕ НАСТРОЙКИ ДЛЯ VM
# ========================================

# Пути к логам
LOG_DIR=./logs
ERROR_LOG=./logs/error.log
ACCESS_LOG=./logs/access.log

# Настройки для production
ENABLE_COMPRESSION=true
ENABLE_CACHING=true
CACHE_TTL=3600

# Настройки безопасности
TRUST_PROXY=true
ENABLE_HTTPS_REDIRECT=false
SESSION_SECRET=your-super-secret-session-key

# Настройки для мониторинга
ENABLE_HEALTH_CHECKS=true
HEALTH_CHECK_INTERVAL=30000
ENABLE_PERFORMANCE_MONITORING=true

# Настройки для бэкапов
BACKUP_DIR=./backups
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=false

# ========================================
# ИНСТРУКЦИИ ПО НАСТРОЙКЕ
# ========================================

# 1. Замените все значения "your-*" на реальные
# 2. Установите безопасные пароли для базы данных
# 3. Получите реальные API ключи для Telegram и OpenAI
# 4. Настройте SSL сертификаты если планируете HTTPS
# 5. Проверьте права доступа к директориям логов и загрузок
