# üîÑ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å VM

## üìã –û–±–∑–æ—Ä

–°–∫—Ä–∏–ø—Ç—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è —Ñ–∞–π–ª–∞–º–∏ –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω—ã–º –ü–ö –∏ VM –Ω–∞ Yandex.Cloud.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### Windows (PowerShell)
```powershell
# –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
.\scripts\sync-with-vm.ps1

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ VM
.\scripts\sync-with-vm.ps1 push

# –ü–æ–ª—É—á–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å VM
.\scripts\sync-with-vm.ps1 pull

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
.\scripts\sync-with-vm.ps1 status
```

### Linux/Mac (Bash)
```bash
# –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
./scripts/sync-with-vm.sh

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ VM
./scripts/sync-with-vm.sh push

# –ü–æ–ª—É—á–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å VM
./scripts/sync-with-vm.sh pull

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
./scripts/sync-with-vm.sh status
```

## üîß –î–µ–π—Å—Ç–≤–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### 1. `sync` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç** –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ü–ö –Ω–∞ VM
- **–ü–æ–ª—É—á–∞–µ—Ç** –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å VM –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π –ü–ö
- –°–æ–∑–¥–∞–µ—Ç –ø–∞–ø–∫—É `vm-changes/` –¥–ª—è —Ñ–∞–π–ª–æ–≤ —Å VM

### 2. `push`
- **–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç** –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ VM
- –°–æ–∑–¥–∞–µ—Ç –∞—Ä—Ö–∏–≤ —Å —Ñ–∞–π–ª–∞–º–∏
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞ VM
- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç PM2 —Å–µ—Ä–≤–∏—Å—ã

### 3. `pull`
- **–ü–æ–ª—É—á–∞–µ—Ç** –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å VM
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ø–∞–ø–∫—É `vm-changes/`
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ä–∞–≤–Ω–∏—Ç—å –≤–µ—Ä—Å–∏–∏

### 4. `status`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç Git —Å—Ç–∞—Ç—É—Å –ª–æ–∫–∞–ª—å–Ω–æ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç Git —Å—Ç–∞—Ç—É—Å –Ω–∞ VM
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å PM2 —Å–µ—Ä–≤–∏—Å–æ–≤

## üìÅ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã

### –û—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ VM:
- `src/` - –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
- `packages/` - –ø–∞–∫–µ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞
- `scripts/` - —Å–∫—Ä–∏–ø—Ç—ã
- `package.json` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `tsconfig.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TypeScript
- `env-template.txt` - —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### –ü–æ–ª—É—á–∞—é—Ç—Å—è —Å VM:
- `dist/admin/` - admin –ø–∞–Ω–µ–ª—å
- `dist/app/` - backend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- `dist/admin-server.cjs` - —Å–µ—Ä–≤–µ—Ä admin –ø–∞–Ω–µ–ª–∏
- `dist/ecosystem.config.cjs` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PM2
- `dist/.env` - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
- **VM User**: `dankartsev`
- **VM IP**: `84.201.146.125`
- **VM Path**: `~/bot-project`

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

#### PowerShell:
```powershell
.\scripts\sync-with-vm.ps1 sync "dankartsev" "84.201.146.125" "~/bot-project"
```

#### Bash:
```bash
./scripts/sync-with-vm.sh sync "dankartsev" "84.201.146.125" "~/bot-project"
```

## üîÑ –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

### –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
1. **–†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ** –∫–æ–¥ –ª–æ–∫–∞–ª—å–Ω–æ
2. **–¢–µ—Å—Ç–∏—Ä—É–µ—Ç–µ** –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. **–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ** –Ω–∞ VM: `./scripts/sync-with-vm.sh push`
4. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç–µ** —Ä–∞–±–æ—Ç—É –Ω–∞ VM
5. **–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏** –ø–æ–ª—É—á–∞–µ—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è: `./scripts/sync-with-vm.sh pull`

### –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ VM:
1. **–í–Ω–æ—Å–∏—Ç–µ** –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ VM
2. **–ü–æ–ª—É—á–∞–µ—Ç–µ** –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ: `./scripts/sync-with-vm.sh pull`
3. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç–µ** –≤ –ø–∞–ø–∫–µ `vm-changes/`
4. **–ü—Ä–∏–º–µ–Ω—è–µ—Ç–µ** –Ω—É–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ

## üö® –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### ‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:
- **–í—Å–µ–≥–¥–∞ –¥–µ–ª–∞–π—Ç–µ backup** –ø–µ—Ä–µ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
- **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ** —Å—Ç–∞—Ç—É—Å PM2 –ø–æ—Å–ª–µ `push`
- **–°—Ä–∞–≤–Ω–∏–≤–∞–π—Ç–µ** –≤–µ—Ä—Å–∏–∏ —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ `pull`

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- SSH –∫–ª—é—á–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ –¥–æ–ª–∂–Ω—ã –ø–æ–ø–∞–¥–∞—Ç—å –≤ Git
- –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ SSH:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
ssh -l dankartsev 84.201.146.125 "echo 'Connection OK'"
```

### –û—à–∏–±–∫–∞ SCP:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ssh -l dankartsev 84.201.146.125 "ls -la ~/bot-project"
```

### –û—à–∏–±–∫–∞ PM2:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
ssh -l dankartsev 84.201.146.125 "pm2 status"
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:
–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤:

#### Windows (PowerShell):
```powershell
# –°–ª–µ–¥–∏—Ç—å –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –≤ src/
Get-ChildItem -Path "src" -Recurse | ForEach-Object {
    $_.FullName | Out-File -Append "watch.log"
}
```

#### Linux/Mac (Bash):
```bash
# –°–ª–µ–¥–∏—Ç—å –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –≤ src/
inotifywait -m -r src/ -e modify,create,delete | while read path action file; do
    echo "$(date): $action $path$file" >> watch.log
    ./scripts/sync-with-vm.sh push
done
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `push`** –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≥–æ—Ç–æ–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `pull`** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å VM
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `sync`** –¥–ª—è –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
4. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å** —Å –ø–æ–º–æ—â—å—é `status`
5. **–î–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç—ã** –ø–µ—Ä–µ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –ø–∞–ø–∫–µ `logs/`
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ VM
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
