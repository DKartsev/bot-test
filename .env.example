# Server
NODE_ENV=development
PORT=3000
APP_BASE_URL=http://localhost:3000
CORS_ORIGIN=http://localhost:3000
LOG_LEVEL=info
OBS_CONSOLE_LEVEL=debug
OBS_FILE_LEVEL=info
OBS_ROTATE_INTERVAL=1d
OBS_ROTATE_MAX_FILES=7
OBS_ROTATE_SIZE=10m
PROM_ENABLED=0
PROM_METRICS_PATH=/metrics

# Database
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=public-anon-key
SUPABASE_SERVICE_ROLE_KEY=
DATABASE_URL=postgres://postgres:postgres@localhost:5432/postgres
REDIS_URL=redis://localhost:6379

# Security
ENCRYPTION_KEY=change_me_32_chars_min_secret
ENCRYPTION_KEY_BASE64=
ENCRYPTION_ALGORITHM=aes-256-gcm
ADMIN_TOKENS=
EDITOR_TOKENS=
# Список бэарер-токенов для админских эндпоинтов
ADMIN_API_TOKENS=token1,token2
ADMIN_ALLOWED_ORIGINS=
ADMIN_IP_ALLOWLIST=127.0.0.1,::1
ADMIN_RATE_LIMIT_MAX=30
ADMIN_RATE_MAX=
ADMIN_RATE_WINDOW_MS=
JWT_PUBLIC_KEY=
JWT_ISSUER=
JWT_AUDIENCE=admin
JWT_JWKS_URL=
JWT_SECRET=a-very-secret-and-long-string-for-jwt

# Telegram
TG_BOT_TOKEN=
TG_WEBHOOK_PATH=/webhooks/telegram
TG_WEBHOOK_SECRET=
PUBLIC_URL=
TELEGRAM_SET_WEBHOOK_ON_START=0
TELEGRAM_ENABLED=1
TG_CHAT_ID=
CASES_TELEGRAM_CHAT_ID=
TELEGRAM_ALERTS_ENABLED=0
TG_WEBHOOK_RATE_MAX=
TG_WEBHOOK_RATE_WINDOW_MS=

# OpenAI
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini
OPENAI_EMBED_MODEL=text-embedding-3-small
SENTIMENT_OPENAI_MODEL=gpt-4o-mini
AUTO_CACHE_OPENAI=0

# Retrieval-Augmented Generation (RAG)
RAG_ENABLED=1
RAG_CHUNK_SIZE=500
RAG_CHUNK_OVERLAP=50
RAG_CITATIONS_STYLE=markdown
RAG_DIVERSIFY_BY_SOURCE=0
RAG_INDEX_PATH=./data/rag/index
RAG_MAX_CONTEXT_CHARS=2000
RAG_MIN_SIM=0.5
RAG_OPENAI_MODEL=text-embedding-3-small
RAG_REBUILD_ON_START=0
RAG_TEMPERATURE=0.7
RAG_TOPK=5

# Semantic Search (SEM)
SEM_ENABLED=1
SEM_PROVIDER=openai
SEM_MODEL_LOCAL=
SEM_INDEX_PATH=./data/sem/index
SEM_CACHE=1
SEM_ALPHA=0.5
SEM_BATCH_SIZE=10
SEM_MIN_SIM=0.5
SEM_TOPK=5
SEM_REBUILD_ON_START=0

# Data Loss Prevention (DLP)
DLP_ENABLED=1
DLP_MODE=strict
DLP_MIN_SEVERITY=low
DLP_ALLOW_EMAIL_DOMAINS=
DLP_ALLOW_TEST_CARDS=0
DLP_BLOCK_PII_OUT=0
DLP_BLOCK_SECRETS_OUT=1
DLP_HASH_SENSITIVE_IN_LOGS=1
DLP_LOG_SAMPLE_RATE=1
DLP_PARTIAL_MASK=1
DLP_REDACT_INGEST=0
DLP_REDACTION_STYLE=asterisk
DLP_SCAN_INGEST=0

# Feedback
FEEDBACK_ENABLE_AUTO=0
FEEDBACK_LOG_PATH=logs/feedback.log
FEEDBACK_METRICS_PATH=logs/feedback.metrics
FEEDBACK_MAX_COMMENT=500
FEEDBACK_FLAG_MIN=1
FEEDBACK_FLAG_RATIO=0.1
FEEDBACK_PROMOTE_MIN=1
FEEDBACK_PROMOTE_RATIO=0.9
FEEDBACK_AGG_INTERVAL_MIN=60

# Alerts
ALERT_EVAL_INTERVAL_SEC=60
ALERT_MIN_INTERVAL_SEC=300
ALERT_THRESH_ERROR_RATE=0.5
ALERT_THRESH_OPENAI_RATE=0.5
ALERT_THRESH_PENDING=10
ALERT_WINDOW_SEC=600

# Observability
LOKI_ENABLED=0
LOKI_URL=http://localhost:3100
LOKI_BASIC_AUTH=
LOKI_MIN_LEVEL=info
ELASTIC_ENABLED=0
ELASTIC_NODE=http://localhost:9200
ELASTIC_USERNAME=elastic
ELASTIC_PASSWORD=changeme
ELASTIC_INDEX=app
ELASTIC_MIN_LEVEL=info

# Sync Providers
SYNC_PROVIDER=airtable
SYNC_CRON="*/5 * * * *"
SYNC_BIDIRECTIONAL=0
SYNC_ALLOW_DELETES=0
SYNC_LOG_PREVIEW=0
AIRTABLE_API_KEY=
AIRTABLE_BASE_ID=
AIRTABLE_TABLE_NAME=
GOOGLE_SERVICE_ACCOUNT_JSON_B64=
GOOGLE_SHEETS_ID=

# Frontend
NEXT_PUBLIC_API_BASE=http://localhost:3000
NEXT_PUBLIC_BASE_PATH=
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=public-anon-key
OP_ADMIN_BASE_URL=http://localhost:3000

# Localization & Tenancy
DEFAULT_LANG=en
SUPPORTED_LANGS=en,ru
TENANT_DEFAULT_ID=default

# Versioning
VERSIONS_DEBOUNCE_MS=1000
VERSIONS_INCLUDE_PENDING=1
VERSIONS_MAX=10
VERSIONS_REASON_ON_MUTATION=1
VERSIONS_TTL_DAYS=30
